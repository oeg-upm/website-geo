var resetForm=function resetForm(g){stopPropagation(g);document.getElementById("file-form")["reset"]();var f=document.getElementById("file-disclaimer");if(f!==null){if(f.className===""){f.className="hidden"}}var c=document.getElementById("file-error");var b=document.getElementById("file-info");if(c!==null&&c.className===""){c.className="hidden"}if(b!==null&&b.className==="hidden"){b.className=""}b.innerHTML=fileSize+"MB max.";var a=document.getElementById("file-icon");a.className="fa fa-angle-double-up";var d=g.target;d.checked=true};var readFile=function readFile(j){stopPropagation(j);var k=j.target;if(k.files&&k.files.length>0){var h=k.files[0];var d=h.name.split(".").pop();var l=document.getElementById("file-icon");var b=document.querySelector('input[type="radio"]:checked')["value"];var n="";var i=false;if((h.size/1024/1024)<fileSize){if(b==="shp"&&h.type==="application/zip"){n="fa fa-file-archive-o"}else{if(b==="kml"&&(h.type==="application/vnd.google-earth.kml+xml"||d===b)){n="fa fa-file-text-o"}else{if(b==="geojson"&&(h.type==="application/json"||d===b)){n="fa fa-file-code-o"}else{if(b==="csv"&&(h.type==="text/csv"||d===b)){n="fa fa-file-excel-o"}else{i=true}}}}}else{i=true}if(i===true){document.getElementById("file-form")["reset"]();n="fa fa-close"}l.className=n;var f=document.getElementById("file-disclaimer");if(f!==null){if(f.className==="hidden"){f.className=""}}var a=document.getElementById("file-error");var g=document.getElementById("file-info");if(i===true){if(a!==null&&a.className==="hidden"){a.className=""}if(g!==null&&g.className===""){g.className="hidden"}}else{if(a!==null&&a.className===""){a.className="hidden"}if(g!==null){if(g.className==="hidden"){g.className=""}var c=h.name;var m=c.split(".").pop();if(c.length>21){c=c.slice(0,21-m.length)+" ..."+m}g.innerHTML=c}}}};ready(function(){var b=document.getElementById("file-chooser");if(b!==null){addListener(b,"change",readFile)}var c=document.getElementsByClassName("file-radio");if(c!==null){for(var a=0;a<c.length;a++){addListener(c[a],"change",resetForm)}}});